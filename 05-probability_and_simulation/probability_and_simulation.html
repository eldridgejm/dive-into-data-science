
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1. Probability and simulation &#8212; Dive into Data Science</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pagestyle.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupytertip.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. Populations and Samples" href="../06-populations_and_samples/1_populations_and_samples.html" />
    <link rel="prev" title="1. Merge" href="../04-advanced_data_manipulation/merging.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Dive into Data Science</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/tools.html">
   1. Tools of the Trade
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/first_steps.html">
   2. First Steps with Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/expressions.html">
   3. Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/variables.html">
   4. Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/functions.html">
   5. Functions and Imports
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../01-getting_started/data_types.html">
   6. Data Types
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-numeric.html">
     6.1. Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-strings.html">
     6.2. Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-bool.html">
     6.3. Booleans
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  NumPy and Babypandas
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/arrays.html">
   1. Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/dataframes.html">
   2. DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/accessing.html">
   3. Accessing and Sorting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/querying.html">
   4. Querying
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/groupby.html">
   5. GroupBy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/apply.html">
   6. Defining and Applying Functions
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Visualization
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../03-visualization/intro.html">
   1. Plotting with Babypandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03-visualization/scatter.html">
   2. Scatter Plots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03-visualization/line.html">
   3. Line graphs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03-visualization/histogram.html">
   4. Bar charts
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Advanced Data Manipulation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../04-advanced_data_manipulation/merging.html">
   1. Merge
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Probability and Simulation
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. Probability and simulation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Populations and Samples
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../06-populations_and_samples/1_populations_and_samples.html">
   1. Populations and Samples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06-populations_and_samples/2_parameters_and_statistics.html">
   2. Parameters and statistics
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Hypothesis Testing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../07-hypothesis_testing/1_hypothesis_tests.html">
   1. Hypothesis Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07-hypothesis_testing/2_permutation_tests.html">
   2. Permutation Tests
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Estimation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/1_bootstrap.html">
   1. Parameter Estimation and Bootstrap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/2_confidence_intervals.html">
   2. Confidence Intervals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/3_ht_using_intervals.html">
   3. Hypothesis Tests for Parameters using Confidence Intervals
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../how_to_read.html">
   1. How To Read This Book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../glossary.html">
   2. All Terms and Tips
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../genindex.html">
   3. Index
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/05-probability_and_simulation/probability_and_simulation.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/eldridgejm/dive_into_data_science"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/eldridgejm/dive_into_data_science/issues/new?title=Issue%20on%20page%20%2F05-probability_and_simulation/probability_and_simulation.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        <a class="jupyterhub-button" href="https://datahub.ucsd.edu/hub/user-redirect/git-pull?repo=https://github.com/eldridgejm/dive_into_data_science&urlpath=tree/dive_into_data_science/notebooks/book_pages/05-probability_and_simulation/probability_and_simulation.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#probabilities-in-our-daily-lives">
   1.1. Probabilities in our daily lives
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-semi-formal-introduction-to-probability">
   1.2. A semi-formal introduction to probability
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#all-things-equal">
     1.2.1. All things equal
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#collections-of-outcomes">
     1.2.2. Collections of outcomes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#events-with-equally-likely-outcomes">
     1.2.3. Events with equally-likely outcomes
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-or-and-operators">
       1.2.3.1. The
       <code class="docutils literal notranslate">
        <span class="pre">
         or
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         |
        </span>
       </code>
       operators
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#more-events">
     1.2.4. More events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability-of-multiple-events">
     1.2.5. Probability of multiple events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability-of-at-least-one-success">
     1.2.6. Probability of at least one success
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-general-way-to-find-probabilities">
   1.3. A general way to find probabilities
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-number-of-observations-is-important">
     1.3.1. The number of observations is important
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#complex-experiments-and-simulation">
   1.4. Complex experiments and simulation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-birthday-problem">
     1.4.1. The Birthday Problem
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conducting-a-probability-simulation">
     1.4.2. Conducting a probability simulation
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-1-frame-the-experiment">
       1.4.2.1. Step 1. Frame the experiment
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-2-simulate-a-single-trial">
       1.4.2.2. Step 2. Simulate a single trial
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-3-use-a-for-loop-to-perform-multiple-trials">
       1.4.2.3. Step 3. Use a
       <code class="docutils literal notranslate">
        <span class="pre">
         for
        </span>
       </code>
       loop to perform multiple trials
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-4-calculate-the-experimental-probability">
       1.4.2.4. Step 4. Calculate the experimental probability
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simulations-are-approximate">
   1.5. Simulations are approximate
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="probability-and-simulation">
<h1><span class="section-number">1. </span>Probability and simulation<a class="headerlink" href="#probability-and-simulation" title="Permalink to this headline">¶</a></h1>
<p>Congrats, you’ve made it to the second half of this textbook. Here’s a bold claim to start us off: <em>the study of probability is the key to tackling uncertainty</em>.</p>
<p>What exactly does the study of probability entail? And if it’s so powerful, how can we use computers to leverage that power?</p>
<p>Let’s dive in.</p>
<div class="section" id="probabilities-in-our-daily-lives">
<h2><span class="section-number">1.1. </span>Probabilities in our daily lives<a class="headerlink" href="#probabilities-in-our-daily-lives" title="Permalink to this headline">¶</a></h2>
<p>Simply, a <span class="target" id="index-0"></span><strong><a class="reference external" href="../glossary.html#term-probability">probability</a></strong> is a measure of how likely something is to happen.</p>
<p>We rely on likelihood in our daily lives whenever we’re faced with a question that doesn’t have a definite answer. These often come in the categories of questions about the future, like “Will it rain today?”, or questions that are subject to investigation or debate, like “Is this new medication actually effective?”.</p>
<p>While all of the questions we could possibly ask have some fundamental, universal truth, much like quantum physics the true answer remains unknown until it’s been observed! This means, in order to get a 100% certain answer, we need to wait for the future to arrive.</p>
<p>That’s less than ideal. There must be a way to answer the question without waiting.</p>
<p>Enter: <em>probabilities</em>. In real life when we’re faced with an uncertain question, we usually provide an uncertain answer. We say things like, “There’s a 72% chance of rain – you should bring an umbrella.”, or “The medication was effective for 9 out of 10 tested patients – there’s a pretty good chance it’ll work.” How we arrive at that measure of ‘72%’, or the reasoning behind ‘pretty good chance’ all boils down to calculating probabilities.</p>
</div>
<div class="section" id="a-semi-formal-introduction-to-probability">
<h2><span class="section-number">1.2. </span>A semi-formal introduction to probability<a class="headerlink" href="#a-semi-formal-introduction-to-probability" title="Permalink to this headline">¶</a></h2>
<p>Formally, a probability of an event, written as <span class="math notranslate nohighlight">\(P(\text{event})\)</span> is the likelihood that the event will occur expressed as a value between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(1\)</span>. A probability of <span class="math notranslate nohighlight">\(0\)</span> means the event will theoretically never happen, <span class="math notranslate nohighlight">\(1\)</span> means the event is theoretically certain to happen, and <span class="math notranslate nohighlight">\(0.5\)</span> means the event is just as likely to happen or not happen.</p>
<div class="math notranslate nohighlight">
\[
0 \leq P(\text{event}) \leq 1
\]</div>
<p>For instance, when we flip a fair coin, the probability that it lands showing Heads is <span class="math notranslate nohighlight">\(P(\text{Heads}) = \frac{1}{2}\)</span> (or <span class="math notranslate nohighlight">\(0.5\)</span> or <span class="math notranslate nohighlight">\(50\%\)</span>). We know this intuitively, but let’s formalize the math a little bit to figure out where that number comes from.</p>
<div class="admonition tip" id="tip-0">
<p class="admonition-title">Tip</p>
<p>You may notice that probabilities are defined as between 0 and 1, but sometimes we use a percentage. Mathematically they’re the same, <span class="math notranslate nohighlight">\(100\% = 100 \textit{ per cent} = \frac{100}{100} = 1.\)</span> But while percents can be nice in spoken language, you should stay consistent and always work with probabilities expressed as fractions or decimals between 0 and 1 when performing calculations. This will make your life much easier and prevent you from pulling out your hair due to decimal place errors!</p>
</div>
<p>Since we’re learning about data <em>science</em>, let’s define the terminology of probability in a scientific manner. This terminology is consistent across most probability and statistics textbooks, too.</p>
<p>Each time we face an uncertain outcome – like flipping a fair coin – we’re essentially conducting an <em>experiment</em>. An <span class="target" id="index-1"></span><strong><a class="reference external" href="../glossary.html#term-experiment">experiment</a></strong> is a process with a set of distinct possible <span class="target" id="index-2"></span><strong><a class="reference external" href="../glossary.html#term-outcome">outcomes</a></strong>, only one of which can be the true result of a single trial. We can conduct many trials of the experiment, but the each time we are uncertain which specific outcome will be the result. In this example, our experiment is a single coin flip and the possible outcomes are Heads and Tails, often written as a mathematical set, <span class="math notranslate nohighlight">\(\{\text{Heads}, \text{Tails}\}\)</span>.</p>
<div class="section" id="all-things-equal">
<h3><span class="section-number">1.2.1. </span>All things equal<a class="headerlink" href="#all-things-equal" title="Permalink to this headline">¶</a></h3>
<p>In the case of flipping a coin, rolling a die, or any other experiment where all outcomes are equally likely, the probability of any given outcome is one divided by the total number of possible outcomes. So, for flipping a coin the probability of any outcome is <span class="math notranslate nohighlight">\(\frac{1}{2}\)</span>, for a six-sided die the probability of any outcome is <span class="math notranslate nohighlight">\(\frac{1}{6}\)</span>.</p>
<div class="math notranslate nohighlight">
\[
P(\text{equally-likely outcome}) = \frac{1}{\text{# of possible outcomes}}
\]</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>If all outcomes of a process are equally likely, we usually call that process ‘random’</p>
</div>
<p>In Python, we’ll use NumPy’s <code class="docutils literal notranslate"><span class="pre">random.choice</span></code> function to choose one outcome from a list of possible outcomes. The code below essentially conducts an experiment of a single coin flip, then checks whether or not it landed on ‘Heads’ by using a <span class="target" id="index-3"></span><strong><a class="reference external" href="../glossary.html#term-comparison-operator">comparison operator</a></strong>. If we run the cell a bunch of times, we should expect that it’ll return True roughly half of the time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">outcome</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;Heads&#39;</span><span class="p">,</span> <span class="s1">&#39;Tails&#39;</span><span class="p">])</span>

<span class="n">outcome</span> <span class="o">==</span> <span class="s1">&#39;Heads&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>You can also specify a <code class="docutils literal notranslate"><span class="pre">size=</span></code> argument to make multiple random choices, like flipping multiple coins. This time, we tell NumPy to choose randomly between Heads or Tails ten times, and the result is an array of the outcome of each trial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcomes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;Heads&#39;</span><span class="p">,</span> <span class="s1">&#39;Tails&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">outcomes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Heads&#39;, &#39;Tails&#39;, &#39;Heads&#39;, &#39;Heads&#39;, &#39;Heads&#39;, &#39;Heads&#39;, &#39;Heads&#39;,
       &#39;Heads&#39;, &#39;Tails&#39;, &#39;Heads&#39;], dtype=&#39;&lt;U5&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="collections-of-outcomes">
<h3><span class="section-number">1.2.2. </span>Collections of outcomes<a class="headerlink" href="#collections-of-outcomes" title="Permalink to this headline">¶</a></h3>
<p>Let’s move on to something more exiting than just two outcomes… how about we look at <em>six</em> different outcomes instead (oooh).</p>
<p>If you’re playing a game that involves rolling a die, you might be able to win if you roll a one <em>or</em> if you roll a two. To calculate the chance that you will win, we find the sum of each individual probability that will lead to winning.</p>
<div class="math notranslate nohighlight">
\[
P(\mathrm{one}\textit{ or }\mathrm{ two}) = P(\mathrm{one}) + P(\mathrm{two}) = \frac{1}{6} + \frac{1}{6} = \frac{2}{6}
\]</div>
<p>What you’ve just stumbled upon is called an <em>event</em>. An <span class="target" id="index-4"></span><strong><a class="reference external" href="../glossary.html#term-event">event</a></strong> is a collection of outcomes, and the probability of an event is just the probability of any of those outcomes occurring.</p>
<p>If we define the event <span class="math notranslate nohighlight">\(\text{win}\)</span> as containing both the outcomes <span class="math notranslate nohighlight">\(\text{one}\)</span> and <span class="math notranslate nohighlight">\(\text{two}\)</span>, then the probability of this event uses the exact same calculation as above.</p>
<div class="math notranslate nohighlight">
\[
P(\text{win}) = P(\mathrm{one}\textit{ or }\mathrm{two})
\]</div>
<p>From these two facts, it follows that the probability of any event is always just the sum of the probabilities of each outcome that satisfies the event.</p>
<div class="math notranslate nohighlight">
\[
P(\text{event}) = \sum_{\text{all outcomes in event}} P(\text{outcome})
\]</div>
<p>And yes, and event could contain more or less than two outcomes as well.</p>
</div>
<div class="section" id="events-with-equally-likely-outcomes">
<h3><span class="section-number">1.2.3. </span>Events with equally-likely outcomes<a class="headerlink" href="#events-with-equally-likely-outcomes" title="Permalink to this headline">¶</a></h3>
<p>When we’re in the scenario of equally-likely outcomes, it so happens that it doesn’t matter <em>which</em> outcomes are in our event, merely <em>how many</em> outcomes are in our event.</p>
<p>Notice in our die example above that the numerator of every single outcome probability is <span class="math notranslate nohighlight">\(1\)</span>, and the denominator is always <span class="math notranslate nohighlight">\(6\)</span>. We can deduce a simpler way to calculate the probability of an event with these equally-likely outcomes.</p>
<div class="math notranslate nohighlight">
\[
P(\text{event with equally-likely outcomes}) = \frac{\text{# outcomes in event}}{\text{total # possible outcomes}}
\]</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>The realm of equally-likely outcomes is part of the study of ‘Classical Probability’. Since the probabilities of outcomes and events are based on counting how many outcomes there are, and how many we’re interested in, this study is tackled primarily using combinatorics – you’ll see more of those in DSC 40A and your statistics classes!</p>
</div>
<div class="section" id="the-or-and-operators">
<h4><span class="section-number">1.2.3.1. </span>The <code class="docutils literal notranslate"><span class="pre">or</span></code> and <code class="docutils literal notranslate"><span class="pre">|</span></code> operators<a class="headerlink" href="#the-or-and-operators" title="Permalink to this headline">¶</a></h4>
<p>Just like an event can be broken down into multiple <span class="math notranslate nohighlight">\(\text{or}\)</span>’s mathematically, we can do the exact same thing in our code by using the <code class="docutils literal notranslate"><span class="pre">or</span></code> operator to string together multiple equality checks. In the code below, we’re running an experiment of a single die roll, and checking if the winning event is satisfied by the roll. Based on the math above, we should expect the following cell to return True roughly a third of the times we run it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcome</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="n">outcome</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">outcome</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">outcome</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Again, NumPy makes it easy make multiple random dice rolls.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcomes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">outcomes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2, 2, 1, 5, 3])
</pre></div>
</div>
</div>
</div>
<p>In order to see which of these rolls satisfy our <span class="math notranslate nohighlight">\(\text{win}\)</span> event, we want to use an element-wise version of the ‘or’ operator (since we’re working with an array now). Element-wise ‘or’-ing can be performed using the <code class="docutils literal notranslate"><span class="pre">|</span></code> operator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">outcomes</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">outcomes</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ True,  True,  True, False, False])
</pre></div>
</div>
</div>
</div>
<div class="admonition tip" id="tip-1">
<p class="admonition-title">Tip</p>
<p>Whenever you’re using <code class="docutils literal notranslate"><span class="pre">|</span></code> or <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> you <em>must</em> use parentheses around the things you’re comparing – otherwise you’ll get some weird errors or weirder results.</p>
</div>
</div>
</div>
<div class="section" id="more-events">
<h3><span class="section-number">1.2.4. </span>More events<a class="headerlink" href="#more-events" title="Permalink to this headline">¶</a></h3>
<p>Humorously, we can also find the probability of the event containing zero outcomes, <span class="math notranslate nohighlight">\(\text{nothing} = \{\}\)</span>. Asking for the probability of this empty event is essentially asking for the probability that our experiment produces none of the possible results thus violates all universal laws. If this sounds impossible to you, you’re right. The probability of an empty event is zero. Whew, existential crisis avoided.</p>
<p>On the other end of the spectrum, we could ask for the probability that any of our outcomes happen by specifying the event containing all outcomes – statisticians have a special word for this event, called the ‘sample space’ – <span class="math notranslate nohighlight">\(\text{sample space} = \{\text{outcome}_1,\ldots,\text{outcome}_n\}\)</span>. Necessarily our experiment must produce one of the possible outcomes, so the probability of observing an outcome sample space is one. Because we also know that the probability of an event is equal to the sum of the probabilities of each outcome it contains, we can equivalently state that the probabilities of all possible outcomes sum to one.</p>
<div class="math notranslate nohighlight">
\[
P(\mathrm{outcome}_1\textit{ or }\ldots\textit{ or }\mathrm{outcome}_n)
= \sum_{\text{all outcomes}} P(\text{outcome}) = 1
\]</div>
<p>Finally, the probability that some event does <em>not</em> happen is one minus the probability that it does. You can think of this as taking the sample space and removing the event that we’re interested in <em>not</em> happening.</p>
<div class="math notranslate nohighlight">
\[
P(\textit{not }\mathrm{event}) = 1 - P(\mathrm{event})
\]</div>
</div>
<div class="section" id="probability-of-multiple-events">
<h3><span class="section-number">1.2.5. </span>Probability of multiple events<a class="headerlink" href="#probability-of-multiple-events" title="Permalink to this headline">¶</a></h3>
<p>If two events are deemed <span class="target" id="index-5"></span><strong><a class="reference external" href="../glossary.html#term-independent">independent</a></strong> – meaning the two events have no effect on each other – then we can calculate the chance that both of them occur by multiplying their probabilities.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
P(\mathrm{event}_A\textit{ and }\mathrm{event}_B) = P(\mathrm{event}_A) \times P(\mathrm{event}_B) \\
\tiny(\text{if independent})
\end{split}\]</div>
<p>This can be extended to work with many events, just so long as they are all independent.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
P(\mathrm{event}_1 \textit{ and } \ldots \textit{ and } \mathrm{event}_n) = \prod_{i=1}^n P(\mathrm{event}_i) \\
\tiny(\text{if independent})
\end{split}\]</div>
<p>Independence can be a tricky topic covered in your future probability classes, but for now understand that in most cases where multiple <em>trials</em> of an experiment are conducted, the outcomes of each trial are independent from each other.</p>
</div>
<div class="section" id="probability-of-at-least-one-success">
<h3><span class="section-number">1.2.6. </span>Probability of at least one success<a class="headerlink" href="#probability-of-at-least-one-success" title="Permalink to this headline">¶</a></h3>
<p>If an experiment produces multiple outcomes, such as flipping two coins as opposed to just one, we may wish to find the probability that <em>any</em> of the outcomes successfully satisfies some condition.</p>
<p>In this setting, we may be interested the probability that at least one of our coins lands on Heads. Drawing out all possible outcomes makes answering this probability trivial – but drawing out all possible outcomes becomes really painful when working with more and more complex experiments.</p>
<p>Fortunately, we can utilize some cleverness to rearrange our question. Consider that ‘at least one success’ is the same thing, logically, as ‘not none of the outcomes are successful’…</p>
<div class="math notranslate nohighlight">
\[
P(\text{at least one success}) = P(\textit{not}\text{ no successes})
\]</div>
<p>Often times, calculating the probability of ‘no successes’ is easier than trying to define every possible outcome. In the n-coin flip setting, we know that there’s only outcome where none of our coins land on Heads – no matter how many coins we use.</p>
</div>
</div>
<div class="section" id="a-general-way-to-find-probabilities">
<h2><span class="section-number">1.3. </span>A general way to find probabilities<a class="headerlink" href="#a-general-way-to-find-probabilities" title="Permalink to this headline">¶</a></h2>
<p>In the example above, we already knew the probability of each outcome (and therefore each event).</p>
<p>What if we wanted to <em>find</em> those probabilities in real life? Let’s look at the rain example.</p>
<p>When you look outside and see dark clouds, you want to estimate the probability that it will rain so you can know whether or not to stay indoors. Whenever you see dark clouds you start keeping track of whether or not it rained that day. Of the 20 days with dark clouds you’ve seen so far, 16 of them have also rained. Seems like dark clouds indicate an <span class="math notranslate nohighlight">\(\frac{16}{20} = 80\%\)</span> chance of rain, huh?</p>
<p>Humans have a very natural intuition for what statisticians call the <span class="target" id="index-6"></span><strong><a class="reference external" href="../glossary.html#term-frequentist">frequentist</a></strong> approach towards probabilities. This approach doesn’t need any pre-existing assumptions about our outcomes – we only need to count the number of times some event did or didn’t happen. When we divide the number of times it did happen by the total number of observations we made, we get a pretty good approximation of the underlying true probability. This approximation only gets better as the number of our observations increases.</p>
<div class="math notranslate nohighlight">
\[P(\text{event}) \approx \frac{\text{# times event observed}}{\text{total # observations}}\]</div>
<p>If you remember our introduction to <span class="target" id="index-7"></span><strong><a class="reference external" href="../glossary.html#term-proportion">proportions</a></strong> in Exploring Data, you’ll notice that the calculation of an experimental probability is the exact same as the calculation of a proportion! In the same way we utilize computers to crunch numbers and spit out proportions, we’ll learn to leverage computers to simulate events and calculate probabilities.</p>
<div class="section" id="the-number-of-observations-is-important">
<h3><span class="section-number">1.3.1. </span>The number of observations is important<a class="headerlink" href="#the-number-of-observations-is-important" title="Permalink to this headline">¶</a></h3>
<p>Our approximation of the experimental probability will get closer and closer to the true underlying probability as we make more observations.</p>
<p>Theoretically, the equality only holds once you’ve made infinite observations… in practice it can be pretty challenging to make infinite observations!</p>
<p>Truthfully, we expect our experimental probability to be a little bit incorrect, simply due to randomness. You wouldn’t expect to get exactly five Heads <em>every</em> time you flip ten coins. Sometimes you’ll get more, sometimes less… it’s possible that you might even see no Heads (though extremely rare)!</p>
<p>We should always strive to make more observations, since with fewer observations slight deviations are exaggerated. For example, if you flip ten coins, then getting one more or less Heads will change your experimental probability by an entire <span class="math notranslate nohighlight">\(0.1\)</span>. Whereas if you make one-hundred observations a single deviation only chances our probability by <span class="math notranslate nohighlight">\(0.01\)</span>.</p>
<p>Because it’s never possible to make infinite observations, we must accept the use of a smaller number of observations, but remain cognizant that we lose both accuracy and precision as the number of observations decreases – we’ll talk about how to deal with this more when we discuss sampling.</p>
</div>
</div>
<div class="section" id="complex-experiments-and-simulation">
<h2><span class="section-number">1.4. </span>Complex experiments and simulation<a class="headerlink" href="#complex-experiments-and-simulation" title="Permalink to this headline">¶</a></h2>
<p>The real world can throw some pretty challenging events at us.</p>
<p>How would you calculate probabilities in experiment which involve two dice? What if you had three dice? One hundred dice followed by thirty coin flips and a slot machine? We <em>could</em> learn about combinatorics in order to calculate the probabilities of events in these experiments, but we’ll save that for your math courses!</p>
<p>Fortunately, we can rely on the frequentist approach and use computers to simulate a bunch of experiments, allowing us to approximate the true probability of any specified event – just so long as we know (or can estimate) the probabilities of the individual component outcomes.</p>
<div class="section" id="the-birthday-problem">
<h3><span class="section-number">1.4.1. </span>The Birthday Problem<a class="headerlink" href="#the-birthday-problem" title="Permalink to this headline">¶</a></h3>
<p>Suppose you look around your classroom and count a total of 23 students (including yourself). Assuming it’s equally likely for someone’s birthday to be on any day of the year (ignoring February 29th, sorry!), would you expect that at least two people in your class share the same birthday?</p>
<p>To answer this uncertain question, we’ll need to come up with the probabilities that two people do or don’t share a birthday, then side in favor of whichever probability is greater.</p>
<p>Using our intuitive frequentist approach, we’re going to need to repeat the experiment many times. That means we could physically go out into the world, gather 23 people from the global population and see if any of them share a birthday, then do it again, like a lot of times… good luck with that! You’ll be hard pressed to find the time, willingness, or funding necessary to conduct such a study.</p>
<p>Because we have an assumption about the probability of each birthday occurring, we can rely on a computer simulation instead!</p>
</div>
<div class="section" id="conducting-a-probability-simulation">
<h3><span class="section-number">1.4.2. </span>Conducting a probability simulation<a class="headerlink" href="#conducting-a-probability-simulation" title="Permalink to this headline">¶</a></h3>
<p>Every time we conduct a simulation to estimate a probability, we follow the same four general steps:</p>
<ol class="simple">
<li><p>Frame your experiment, outcomes, and event of interest</p></li>
<li><p>Write the code to simulate a single outcome</p></li>
<li><p>Call that code lots of times and keep track of the outcomes</p></li>
<li><p>Calculate the experimental probability of your event</p></li>
</ol>
<div class="section" id="step-1-frame-the-experiment">
<h4><span class="section-number">1.4.2.1. </span>Step 1. Frame the experiment<a class="headerlink" href="#step-1-frame-the-experiment" title="Permalink to this headline">¶</a></h4>
<p>Starting with step one of simulation, let’s frame the experiment, outcomes, and event of interest an attempt to get a better grasp of this unintuitive Birthday Problem.</p>
<ul class="simple">
<li><p>Experiment: Select 23 birthdays at random from 1 to 365 (inclusive) and see whether or not there are any shared birthdays</p></li>
<li><p>Outcomes: <span class="math notranslate nohighlight">\(\{\text{True}, \text{False}\}\)</span></p></li>
<li><p>Event: <span class="math notranslate nohighlight">\(\{\text{True}\}\)</span></p></li>
</ul>
</div>
<div class="section" id="step-2-simulate-a-single-trial">
<h4><span class="section-number">1.4.2.2. </span>Step 2. Simulate a single trial<a class="headerlink" href="#step-2-simulate-a-single-trial" title="Permalink to this headline">¶</a></h4>
<p>Moving on to step two, we translate the description of our experiment into Python code. We can use NumPy to easily generate 23 random birthdays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">classmate_birthdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">365</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="mi">23</span><span class="p">)</span>
<span class="n">classmate_birthdays</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([117, 261, 319,  13, 130, 233, 347, 365, 302, 201, 196,  58, 239,
        42,  86,   9, 356,  83, 338, 289,  25,  46, 248])
</pre></div>
</div>
</div>
</div>
<p>In order to see if any of the birthdays are shared, we can check if the number of unique elements in our array of birthdays is smaller than the total number of randomly selected birthdays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unique_birthdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">classmate_birthdays</span><span class="p">)</span>

<span class="n">any_shared</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_birthdays</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">classmate_birthdays</span><span class="p">)</span>
<span class="n">any_shared</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Now that we have working code to simulate a single trial of the experiment, we want to wrap it all into a function so that we can easily call it in the future. (Remember to write a docstring or some comments to help <em>future you</em> remember what your code does!)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_birthday_experiment</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a single trial of the Birthday Problem experiment.</span>
<span class="sd">    </span>
<span class="sd">    - Selects 23 birthdays at random (1 to 365)</span>
<span class="sd">    - Returns whether or not any birthdays are shared by multiple people</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">classmate_birthdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">365</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="mi">23</span><span class="p">)</span>
    
    <span class="n">unique_birthdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">classmate_birthdays</span><span class="p">)</span>
    
    <span class="n">any_shared</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_birthdays</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">classmate_birthdays</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">any_shared</span>

<span class="n">run_birthday_experiment</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-3-use-a-for-loop-to-perform-multiple-trials">
<h4><span class="section-number">1.4.2.3. </span>Step 3. Use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to perform multiple trials<a class="headerlink" href="#step-3-use-a-for-loop-to-perform-multiple-trials" title="Permalink to this headline">¶</a></h4>
<p>Arriving at step three, we need a way to run this custom function multiple times – how do we do this? In programming the concept of repeatedly executing code is called ‘iteration’, and it is commonly carried out in Python using a <strong><code class="docutils literal notranslate"><span class="pre">for</span></code> loop</strong>.</p>
<p>The syntax for running something many times is as follows. Just like with functions, the code you want repeated must be indented.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>for i in range(<span class="p">&lt;</span><span class="nt">number_of_repetitions</span><span class="p">&gt;</span>):
    # Indented lines will be run each iteration of the loop
    <span class="p">&lt;</span><span class="nt">code_that_you_want_run_multiple_times</span><span class="p">&gt;</span>

# Once outdented, the following code only runs after the loop is complete
<span class="p">&lt;</span><span class="nt">code_that_will_run_after_the_loop</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Let’s see what happens if we double a number three times using a for loop, then get that variable as an output.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">double_me</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    
    <span class="n">double_me</span> <span class="o">=</span> <span class="n">double_me</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<p>The code inside our loop has been run three times. Loops don’t spit out return values, they simply execute instructions multiple times. Their effects are persistent, though! So, if we add a print statement outside of the loop (after it completes) we’ll see that indeed the value of <code class="docutils literal notranslate"><span class="pre">double_me</span></code> has been doubled three times!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">double_me</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    
    <span class="n">double_me</span> <span class="o">=</span> <span class="n">double_me</span> <span class="o">*</span> <span class="mi">2</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">double_me</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p>When running a simulation, we’d like to keep track of the outcome of each trial, not just the final outcome. Since we know that we can modify variables within a for loop, we can keep track of our outcomes by creating an empty list and then adding each trial to it within the loop. This is accomplished by using the <code class="docutils literal notranslate"><span class="pre">.append</span></code> list method with the outcome as an argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcomes</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">outcomes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">outcomes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[True]
</pre></div>
</div>
</div>
</div>
<p>Putting this all together, let’s finally run out Birthday Problem experiment a handful of times. Start by creating the empty list which will contain our outcomes and defining how many trials we will conduct.</p>
<p>Recall from our introduction to frequentist probability that as the number of observations increases our probability approximation will be better. Before you try to run an infinite number of trials, remember that the more iterations we simulate, the longer our code will take to run. But since this simulation doesn’t take too much processing power, let’s start with <span class="math notranslate nohighlight">\(10,000\)</span> trials. Make sure to keep track of this number, since we’ll need it to calculate the experimental probability. Then, within our loop append the outcome of a single experiment run to our list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">10_000</span>
<span class="n">outcomes</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    
    <span class="n">any_shared</span> <span class="o">=</span> <span class="n">run_birthday_experiment</span><span class="p">()</span>
    <span class="n">outcomes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">any_shared</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-4-calculate-the-experimental-probability">
<h4><span class="section-number">1.4.2.4. </span>Step 4. Calculate the experimental probability<a class="headerlink" href="#step-4-calculate-the-experimental-probability" title="Permalink to this headline">¶</a></h4>
<p>For the final step four, we just need to use the formula for experimental probability to calculate an approximate probability for the chance that at least one pair of our 23 classmates will share a birthday. Recall this formula is <span class="math notranslate nohighlight">\(P = \frac{\text{# times event observed}}{\text{total # of trials}}\)</span>.</p>
<p>Back outside of the loop, let’s turn our list into a NumPy array in order to unlock the extra capabilities that NumPy provides like element-wise comparisons. To count how many times our outcomes satisfied our event, we can use a comparison operator on our outcome array, then take the sum. Finally, we divide by the number of trials to arrive at our approximate probability.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outcomes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">outcomes</span><span class="p">)</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">outcomes</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="o">/</span> <span class="n">trials</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5094
</pre></div>
</div>
</div>
</div>
<p>No way, really? According to our simulation, there’s over a <span class="math notranslate nohighlight">\(50\%\)</span> chance that at least one of the 23 students will share their birthday with someone else in the class.</p>
</div>
</div>
</div>
<div class="section" id="simulations-are-approximate">
<h2><span class="section-number">1.5. </span>Simulations are approximate<a class="headerlink" href="#simulations-are-approximate" title="Permalink to this headline">¶</a></h2>
<p>Simulation isn’t a perfect substitute for theoretical math – but the approximations made by our simulations can be pretty close!</p>
<p>As the number of trials increases, we expect that our approximation gets better and better, but of course there is still some random chance involved that can throw things off.</p>
<p>Let’s calculate the theoretical probability of the birthday problem to see how close we really got.</p>
<p>By relying on what we learned about <code class="docutils literal notranslate"><span class="pre">for</span></code> loops and our handy <span class="math notranslate nohighlight">\(P(\text{at least one}) = 1 - P(\text{none})\)</span> rule, we can actually solve this problem with relative ease. Even though we’re starting to doing math here, the math isn’t that scary when we can rely on Python as an incredible calculator.</p>
<p>First, let’s rearrange our probabilities. Our key event which we consider a success is two students having the same birthday. Therefore, no success would correspond to every birthday being different:</p>
<div class="math notranslate nohighlight">
\[
P(\text{at least one pair has the same birthday}) = 1 - P(\text{all 23 birthdays different})
\]</div>
<p>We’ll figure out how to calculate this probability by imagining our process: we ask each student, one at a time, when they’re birthday is.</p>
<p>Since the birthday of any given student doesn’t depend on the birthday of another student – they are independent – we can calculate the probability that all birthdays are different by multiplying the probability that the second student’s birthday is different than the first, then the probability that the third is different from the first and second, and so on. This uses our <span class="math notranslate nohighlight">\(\it{and}\)</span> rule.</p>
<p>When we ask the first student, they have a 100% chance of having a unique birthday so far. When we ask the second student, there’s now a 364/365 probability that they’re birthday is different from the first. Then we move to the third and now two birthdays are taken up, so there is a 363/365 probability that the third student’s birthday is unique. Each time, the probability of a unique birthday decreases by one in the numerator (since one less possibility is considered unique) and remains the same on the denominator (since there are still 365 possibilities).</p>
<p>Let’s chuck that into Python using a loop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_students</span> <span class="o">=</span> <span class="mi">23</span>

<span class="n">prob</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Starting value -- we need something to multiply with</span>
<span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_students</span><span class="p">):</span>
    
    <span class="n">prob</span> <span class="o">=</span> <span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="mi">365</span> <span class="o">-</span> <span class="n">position</span><span class="p">)</span> <span class="o">/</span> <span class="mi">365</span>
    
<span class="n">prob_at_least_one_shared</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">prob</span>
<span class="n">prob_at_least_one_shared</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5072972343239855
</pre></div>
</div>
</div>
</div>
<p>Hey, our simulation was pretty close!</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../04-advanced_data_manipulation/merging.html" title="previous page"><span class="section-number">1. </span>Merge</a>
    <a class='right-next' id="next-link" href="../06-populations_and_samples/1_populations_and_samples.html" title="next page"><span class="section-number">1. </span>Populations and Samples</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Parker Addison and Justin Eldridge<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>