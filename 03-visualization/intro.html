
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Plotting with Babypandas &#8212; Dive into Data Science</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupytertip.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pagestyle.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scatter Plots" href="scatter.html" />
    <link rel="prev" title="Defining and Applying Functions" href="../02-data_sets/apply.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Dive into Data Science</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/tools.html">
   Tools of the Trade
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/first_steps.html">
   First Steps with Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/expressions.html">
   Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/variables.html">
   Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-getting_started/functions.html">
   Functions and Imports
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../01-getting_started/data_types.html">
   Data Types
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-numeric.html">
     Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-strings.html">
     Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-getting_started/data_types-bool.html">
     Booleans
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  NumPy and Babypandas
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/arrays.html">
   Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/dataframes.html">
   DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/accessing.html">
   Accessing and Sorting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/querying.html">
   Querying
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/groupby.html">
   GroupBy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-data_sets/apply.html">
   Defining and Applying Functions
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Visualization
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Plotting with Babypandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scatter.html">
   Scatter Plots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="line.html">
   Line graphs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bar.html">
   Bar charts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="histogram.html">
   Bar charts
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Advanced Data Manipulation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../04-advanced_data_manipulation/merging.html">
   Merge
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Probability and Simulation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../05-probability_and_simulation/probability_and_simulation.html">
   Probability and simulation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Populations and Samples
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../06-populations_and_samples/1_populations_and_samples.html">
   Populations and Samples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06-populations_and_samples/2_parameters_and_statistics.html">
   Parameters and statistics
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Hypothesis Testing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../07-hypothesis_testing/1_hypothesis_tests.html">
   Hypothesis Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07-hypothesis_testing/2_permutation_tests.html">
   Permutation Tests
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Estimation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/1_bootstrap.html">
   Parameter Estimation and Bootstrap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/2_confidence_intervals.html">
   Confidence Intervals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08-estimation/3_ht_using_intervals.html">
   Hypothesis Tests for Parameters using Confidence Intervals
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../how_to_read.html">
   How To Read This Book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../glossary.html">
   All Terms and Tips
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../genindex.html">
   Index
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/03-visualization/intro.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/eldridgejm/dive_into_data_science"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/eldridgejm/dive_into_data_science/issues/new?title=Issue%20on%20page%20%2F03-visualization/intro.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        <a class="jupyterhub-button" href="https://datahub.ucsd.edu/hub/user-redirect/git-pull?repo=https://github.com/eldridgejm/dive_into_data_science&urlpath=tree/dive_into_data_science/notebooks/book_pages/03-visualization/intro.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-new-dataset-climate-csv">
   A new dataset:
   <code class="docutils literal notranslate">
    <span class="pre">
     climate.csv
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#categorical-vs-numerical-data">
   Categorical vs. Numerical Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chart-types">
   Chart types
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction-to-proportions">
   Introduction to proportions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#your-first-chart">
   Your first chart
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distributions">
   Distributions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#histograms">
     Histograms
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-the-level-of-detail">
     Setting the level of detail
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-math-behind-histograms">
     The math behind histograms
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#categorical-distributions">
     Categorical distributions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trends-over-time">
   Trends over time
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparing-groups">
   Comparing groups
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#relationships-between-features">
   Relationships between features
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparing-charts">
   Comparing charts
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overlaying-scatters-lines-and-histograms">
     Overlaying scatters, lines, and histograms
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparing-bar-charts">
     Comparing bar charts
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="plotting-with-babypandas">
<h1>Plotting with Babypandas<a class="headerlink" href="#plotting-with-babypandas" title="Permalink to this headline">¶</a></h1>
<p>A picture is worth a thousand words, and that’s doubly true in data science. Remember that data science often involves finding <em>trends</em> and <em>associations</em> between variables. It can be hard to spot these trends when the data is presented in the form of a table, but easy when we’re able to <em>visualize</em> the data as a plot. Luckily, babypandas makes it easy to generate plots, as we’ll now see.</p>
<div class="section" id="a-new-dataset-climate-csv">
<h2>A new dataset: <code class="docutils literal notranslate"><span class="pre">climate.csv</span></code><a class="headerlink" href="#a-new-dataset-climate-csv" title="Permalink to this headline">¶</a></h2>
<p>In this chapter, we’ll be working with <code class="docutils literal notranslate"><span class="pre">climate.csv</span></code>, a data set compiled from a number of queries from the NOAA (National Oceanic and Atmospheric Administration) website.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Citation:</p>
<blockquote>
<div><p>NOAA National Centers for Environmental information, Climate at a Glance: Regional Time Series, published July 2020, retrieved on July 21, 2020 from https://www.ncdc.noaa.gov/cag/</p>
</div></blockquote>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">babypandas</span> <span class="k">as</span> <span class="nn">bpd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">climate</span> <span class="o">=</span> <span class="n">bpd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../data/climate.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This table contains monthly climate data for several regions of the U.S., dating back to 1898:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>month</th>
      <th>region</th>
      <th>temperature</th>
      <th>rainfall</th>
      <th>zndx</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1898</td>
      <td>1</td>
      <td>Northeast Climate Region</td>
      <td>21.7</td>
      <td>4.56</td>
      <td>2.41</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1898</td>
      <td>2</td>
      <td>Northeast Climate Region</td>
      <td>24.8</td>
      <td>3.60</td>
      <td>1.69</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1898</td>
      <td>3</td>
      <td>Northeast Climate Region</td>
      <td>38.0</td>
      <td>2.87</td>
      <td>-1.55</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1898</td>
      <td>4</td>
      <td>Northeast Climate Region</td>
      <td>41.2</td>
      <td>3.24</td>
      <td>0.14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1898</td>
      <td>5</td>
      <td>Northeast Climate Region</td>
      <td>55.3</td>
      <td>4.12</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>13171</th>
      <td>2019</td>
      <td>8</td>
      <td>West Climate Region</td>
      <td>75.2</td>
      <td>0.15</td>
      <td>-1.09</td>
    </tr>
    <tr>
      <th>13172</th>
      <td>2019</td>
      <td>9</td>
      <td>West Climate Region</td>
      <td>65.9</td>
      <td>0.68</td>
      <td>0.54</td>
    </tr>
    <tr>
      <th>13173</th>
      <td>2019</td>
      <td>10</td>
      <td>West Climate Region</td>
      <td>53.3</td>
      <td>0.14</td>
      <td>-1.72</td>
    </tr>
    <tr>
      <th>13174</th>
      <td>2019</td>
      <td>11</td>
      <td>West Climate Region</td>
      <td>48.3</td>
      <td>1.35</td>
      <td>-1.39</td>
    </tr>
    <tr>
      <th>13175</th>
      <td>2019</td>
      <td>12</td>
      <td>West Climate Region</td>
      <td>39.8</td>
      <td>3.46</td>
      <td>0.49</td>
    </tr>
  </tbody>
</table>
<p>13176 rows × 6 columns</p>
</div></div></div>
</div>
<p>The columns <strong>temperature</strong>, <strong>rainfall</strong>, and <strong>zndx</strong> are the average temperature in degrees Fahrenheit, total rainfall in inches, and the Palmer Z Index for that specific year/month/region, respectively. I don’t know about yours, but my kindergarten didn’t teach the Palmer Z Index; it turns out that it measures drought-like conditions. If the Z Index is a large negative number, that means there is a severe drought.</p>
</div>
<div class="section" id="categorical-vs-numerical-data">
<h2>Categorical vs. Numerical Data<a class="headerlink" href="#categorical-vs-numerical-data" title="Permalink to this headline">¶</a></h2>
<p>Data comes in different forms – choosing the right type of visualization depends on understanding the form that our data takes. Two of the most common forms that data comes in are <em>categorical</em> and <em>numerical</em>. We’ll defined these in a moment, but first we need some new terminology.</p>
<p>An <span class="target" id="index-0"></span><strong><a class="reference external" href="../glossary.html#term-individual">individual</a></strong> (or <em>instance</em>) is a particular person/place/thing for which data has been collected. Usually, each <em>row</em> of our dataframe corresponds to a unique individual.</p>
<p>A <span class="target" id="index-1"></span><strong><a class="reference external" href="../glossary.html#term-variable">variable</a></strong> (or <em>feature</em>) is a property that is recorded for each individual. For example, the <em>temperature</em> is a variable in our new data set, as is the month. Usually, each <em>column</em> of our DataFrame corresponds to a different variable.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>The terms <em>instance</em> and <em>feature</em> are more common in the machine learning literature.</p>
</div>
<p>A <span class="target" id="index-2"></span><strong><a class="reference external" href="../glossary.html#term-numerical-variable">numerical variable</a></strong> is one that we predominantly treat as a number – we frequently perform arithmetic with these variables. Intuitively, the <em>temperature</em>, <em>rainfall</em>, and <em>zndx</em> variables are all numerical. A <span class="target" id="index-3"></span><strong><a class="reference external" href="../glossary.html#term-categorical-variable">categorical variable</a></strong> is one that is one that takes only a small number of discrete values; it represents a <em>category</em>. For instance, the <em>region</em> variable is categorical, with each region being a different category.</p>
<p>These definitions are not as rigid as they might seem. Take, for instance, the <em>month</em> variable. Is it numerical or categorical? On one hand, it is a categorical variable, since there only 12 values that it can take; each month is its own category. On the other hand, it is numerical – we can do math with months, such as when we subtract 4 from 12 to find the number of months between March and December. Of course, all of this holds true for the <em>year</em> variable, too.</p>
<p>There is no contradiction here: <em>categorical</em> and <em>numerical</em> are not mutually exclusive. Sometimes we treat the month as a category, and in that moment the variable is categorical. But other times we treat it like a number, and so it becomes numerical.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Some people might disagree that the <em>year</em> can be a numerical variable. But it certainly makes sense to treat the year as a number, such as when we calculate the average year in which everyone in a room was born.</p>
</div>
<p>Also note that a variable’s <em>type</em> does not necessarily tell us whether it is categorical or numerical. The <em>month</em> variable here is certainly stored using Python <code class="docutils literal notranslate"><span class="pre">int</span></code>s, but it is arguably categorical. Another example is if we were to rename the climate regions using numbers: region 1, region 2, and so forth. Although we would be storing the region as an <code class="docutils literal notranslate"><span class="pre">int</span></code>, the variable is clearly categorical.</p>
<p>How do we see all of the values that a categorical variable can take? Printing out the table isn’t useful unless there are only a few rows, as <em>babypandas</em> unhelpfully hides most of the table from us. Instead, we can ask for the unique values in a column with the <code class="docutils literal notranslate"><span class="pre">.unique()</span></code> method. For instance, here are all of the unique climate regions in our data set:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Northeast Climate Region&#39;, &#39;Upper Midwest Climate Region&#39;,
       &#39;Ohio Valley Climate Region&#39;, &#39;Southeast Climate Region&#39;,
       &#39;Northern Rockies and Plains Climate Region&#39;,
       &#39;South Climate Region&#39;, &#39;Southwest Climate Region&#39;,
       &#39;Northwest Climate Region&#39;, &#39;West Climate Region&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="admonition tip" id="tip-0">
<p class="admonition-title">Tip</p>
<p>Questions about your data set should also be looked up online! Effective data exploration revolves around quickly becoming an semi-expert in the domain of the data set.</p>
</div>
</div>
<div class="section" id="chart-types">
<h2>Chart types<a class="headerlink" href="#chart-types" title="Permalink to this headline">¶</a></h2>
<p>There are many different types of visualizations, from pie charts to word clouds. In this textbook, we’ll mostly focus on the following four: scatter plots, line graphs, bar charts, and histograms. Histograms are perhaps the <em>most</em> important of these for our purposes, and probably the type of visualization that you’re least familiar with. We’ll be using histograms quite frequently in the rest of this textbook, so it will pay dividends to get to know them well.</p>
<p>Which of these four visualizations is the correct one for our purposes depends on the form that our data takes (numerical vs. categorical), as well as our goals for visualizing the data. Informally, here’s how each plot type is used:</p>
<ul class="simple">
<li><p>scatter plot: identify associations between two numerical variables</p></li>
<li><p>line graph: identify trends in one numerical variable as another increases. often used to see trends over time.</p></li>
<li><p>bar chart: visualize the distribution of a <em>categorical</em> variable</p></li>
<li><p>histogram: visualize the distribution of a <em>numerical</em> variable</p></li>
</ul>
<p>Babypandas makes it easy to produce any of these chart types. In fact, we only need to learn one new method, the <code class="docutils literal notranslate"><span class="pre">.plot</span></code> method.</p>
</div>
<div class="section" id="introduction-to-proportions">
<h2>Introduction to proportions<a class="headerlink" href="#introduction-to-proportions" title="Permalink to this headline">¶</a></h2>
<p>One quick way to explore our data is to see how much of the data satisfies a certain condition.</p>
<p>Say we are curious – for the sake of exploration – about how many of reported temperatures were at or below the freezing point (32 degrees Fahrenheit). We already know how to perform a query to only get the rows where this is true.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freezing</span> <span class="o">=</span> <span class="n">climate</span><span class="p">[</span><span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">32</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>And we can use <code class="docutils literal notranslate"><span class="pre">.shape[0]</span></code> to find out how many rows are in this selection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freezing</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2062
</pre></div>
</div>
</div>
</div>
<p>That doesn’t seem so useful. Is 2062 big or small? Is it closer to half of our data set, or less than a single percent?</p>
<p>A raw count, like 2062, isn’t insightful unless we know what we’re comparing it against!</p>
<p>Fortunately, we can <em>make</em> it insightful by dividing it by the number of rows in our full data set.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prop_freezing</span> <span class="o">=</span> <span class="n">freezing</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">climate</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">prop_freezing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.15649666059502126
</pre></div>
</div>
</div>
</div>
<p>The result is called a <span class="target" id="index-4"></span><strong><a class="reference external" href="../glossary.html#term-proportion">proportion</a></strong>. A proportion is a way of expressing the fraction of the total that satisfies a condition – and they really do come from fractions!</p>
<p>When someone asks for the “proportion of …”, they’re wondering what fraction of data satisfies the condition they’re about to propose.</p>
<p>For example, if we had four data points and only one of them was below freezing, we’d consider the <em>proportion of points below freezing</em> to be <span class="math notranslate nohighlight">\(\frac{1}{4}\)</span> or <span class="math notranslate nohighlight">\(0.25\)</span>.</p>
<p>Notice that you can turn this into a percent by just multiplying it by 100. So out of our full data set, roughly <span class="math notranslate nohighlight">\(0.156 \times 100\% = 15.6\%\)</span> of the recorded temperatures were at or below freezing (brrrrr).</p>
<p>What proportion of recorded temperatures do you think were above freezing?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">not_freezing</span> <span class="o">=</span> <span class="n">climate</span><span class="p">[</span><span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">32</span><span class="p">]</span>
<span class="n">prop_not_freezing</span> <span class="o">=</span> <span class="n">not_freezing</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">climate</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">prop_not_freezing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.8435033394049788
</pre></div>
</div>
</div>
</div>
<p>The final important observation we need to make is that the proportion of points that <em>do</em> satisfy a condition and the proportion of points that <em>don’t</em> satisfy that condition will add up to one. And, since we’re just calculating the size of a subset of our data, proportions will <em>always</em> be between zero and one.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>…unless there’s one of those pesky floating point errors! Then the opposite proportions might add up to slightly more or less than one.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prop_freezing</span> <span class="o">+</span> <span class="n">prop_not_freezing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
</pre></div>
</div>
</div>
</div>
<p>That’s all on proportions for now, but don’t worry! We’ll work with proportions again in the future.</p>
</div>
<div class="section" id="your-first-chart">
<h2>Your first chart<a class="headerlink" href="#your-first-chart" title="Permalink to this headline">¶</a></h2>
<p>There’s an age-old-addage that “a picture is worth a thousand words” – the same often holds true for data science!</p>
<p>Throughout the exploration process, we’ll be relying on charts to help us visualize and ultimately understand the data. While Python has many libraries that can create charts, Babypandas has the capability built in by using the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method. With this method, we can create many types of charts – including some you may be familiar with like bar charts and line charts, as well as others like histograms and scatter plots.</p>
<p>The general syntax to create a chart using Babypandas is:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>.plot(kind=&#39;<span class="p">&lt;</span><span class="nt">chart_type</span><span class="p">&gt;</span>&#39;, x=&#39;<span class="p">&lt;</span><span class="nt">column_name</span><span class="p">&gt;</span>&#39;, y=&#39;<span class="p">&lt;</span><span class="nt">column_name</span><span class="p">&gt;</span>&#39;)
</pre></div>
</div>
<p>If the plot uses two features, then <em>x</em> will be on the horizontal axis and <em>y</em> will be on the vertical axis – we’ll see this momentarily. If the chart only needs a single feature, then only <em>y</em> needs to be specified.</p>
<p>To actually understand what’s going on, let’s try making our first chart. Below we define a example table of ice cream cones, along with the number of cones sold and a yumminess score (out of 10) for each flavor.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">icecream</span> <span class="o">=</span> <span class="n">bpd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
    <span class="n">Flavor</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Chocolate&#39;</span><span class="p">,</span> <span class="s1">&#39;Vanilla&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberry&#39;</span><span class="p">],</span>
    <span class="n">Cones_Sold</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="n">Yumminess</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">icecream</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Flavor</th>
      <th>Cones_Sold</th>
      <th>Yumminess</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Chocolate</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Vanilla</td>
      <td>5</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Strawberry</td>
      <td>4</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can use a <span class="target" id="index-5"></span><strong><a class="reference external" href="../glossary.html#term-bar-chart">bar chart</a></strong> to compare the number of cones sold of each flavor. Since we’re interested in seeing how the number of cones sold changes as a result of the flavor changing, we specify <em>x</em> as Flavor, and <em>y</em> as Cones Sold.</p>
<p>In the resulting chart, each flavor will have its own bar, and the height of the bar corresponds to the value of cones sold – so in this case, the bar for Chocolate is 7 units long since there were 7 chocolate cones sold, but only 4 units long for Strawberry since there were 4 strawberry cones sold.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Try opening the interactive version of this page and seeing what other charts you can create by changing the <code class="docutils literal notranslate"><span class="pre">kind</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and <code class="docutils literal notranslate"><span class="pre">y</span></code> arguments.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">icecream</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Flavor&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Cones_Sold&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Flavor&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_40_1.png" src="../_images/intro_40_1.png" />
</div>
</div>
<p>You’ve done it! We made a chart from a table. Perhaps you’re already getting some ideas for how useful these charts can be – read on to see just how much we rely on them while exploring our data.</p>
</div>
<div class="section" id="distributions">
<h2>Distributions<a class="headerlink" href="#distributions" title="Permalink to this headline">¶</a></h2>
<p>As you work with data scientists and statisticians throughout your life, you’ll often hear people asking about the <span class="target" id="index-6"></span><strong><a class="reference external" href="../glossary.html#term-distribution">distribution</a></strong> of a feature.</p>
<p>This generally boils down to answering three important questions about a feature:</p>
<ol class="simple">
<li><p>What is a typical value for this feature?</p></li>
<li><p>What range of possible values would be expected?</p></li>
<li><p>Are we more likely to see high values within that range? Low values? Both high values <em>and</em> low values, but not values in the middle?</p></li>
</ol>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Technically, you <em>can</em> describe the shape using measurements such as <strong>skewness</strong> and <strong>kurtosis</strong> – you’ll learn about these in Math 189 – however it’s considerably more challenging to <em>interpret</em> these values as opposed to using a chart.</p>
</div>
<p>Well, the first two seem pretty approachable through metrics that we already know how to calculate – such as using the mean of a feature to find the typical value, or calculating the min and max to get a range of possible values. But the third question seems a lot more challenging to represent just by using numbers.</p>
<p>But we have the power of charts! And we can use a specific type of chart, called a histogram, to answer all three of those questions.</p>
<div class="section" id="histograms">
<h3>Histograms<a class="headerlink" href="#histograms" title="Permalink to this headline">¶</a></h3>
<p>A <span class="target" id="index-7"></span><strong><a class="reference external" href="../glossary.html#term-histogram">histogram</a></strong> is a type of chart that gives us a visual representation of the distribution of a numerical feature by expressing how many times the data shows up in a given range.</p>
<p>We can create a histogram of our recorded temperatures by simply specifying <code class="docutils literal notranslate"><span class="pre">kind='hist'</span></code> and setting <code class="docutils literal notranslate"><span class="pre">y</span></code> to the name of the column we’re intreseted in. This example also specifies two additional arguments that may seem mysterious, but soon you’ll know what they do!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span>
           <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_49_1.png" src="../_images/intro_49_1.png" />
</div>
</div>
<p>You can think of a histogram as similar to a bar chart in concept. Each bar corresponds to a range of values called a <strong>bin</strong>, for example at the very left of the chart there is a bin from zero degrees to ten degrees. The height of each bar corresponds to how much of the data falls into that bin.</p>
<p>Important to note: the bins of a histogram include the lower number, but <em>exclude</em> the higher number. Also, we’ll usually express these bins using the mathematical notation for intervals so the bin containing temperatures from 0 degrees to 9.99999… degrees is written as <span class="math notranslate nohighlight">\([0, 10)\)</span>. This means that if a temperature was equal to 10, it would show up in the bin <em>starting</em> with 10, e.g. <span class="math notranslate nohighlight">\([10, 20)\)</span>.</p>
<p><img alt="histograms" src="../_images/histogram-annotation.jpg" /></p>
<p>All sorts of information about our data can be gleaned from just the histogram. For example, in the histogram above we can tell that the bin with the greatest frequency of values was <span class="math notranslate nohighlight">\([60, 70)\)</span> since that bar is the highest, whereas no data fell in the bin <span class="math notranslate nohighlight">\([90, 100)\)</span> since that bar doesn’t show up at all! By thinking about where the balance point of the shape is, we can find the mean of the feature. By looking at the extremes of our histogram we know that our temperature data is never greater than 90, and never less than 0. But, since the bars at the extremes are short, we know that it’s more likely for us to find temperatures between 20 and 80 degrees. And, we can notice that the mass of the histogram bunched up towards the higher end but stretched out on the low end, so it’s more likely for us to see a high value but every once in a while we might find a <em>very</em> low value.</p>
</div>
<div class="section" id="setting-the-level-of-detail">
<h3>Setting the level of detail<a class="headerlink" href="#setting-the-level-of-detail" title="Permalink to this headline">¶</a></h3>
<p>You’ll notice that in our example above, we also specified a <code class="docutils literal notranslate"><span class="pre">bins</span></code> argument. This argument allows us to specify how many bins we want our data split up into, or even allows us to set the range for each bin manually. But why does it matter?</p>
<p>The number of bins we use to draw our histogram has a intrinsic effect on the level of detail of our histogram. It’s probably best to see this point illustrated, so below you can see the histogram for the same data above, but animated as our number of bins changes from one-hundred down to two.</p>
<p><img alt="The level of detail decreases, but it becomes easier to see trends" src="../_images/histogram-detail.gif" /></p>
<p>Notice that as the number of bins decreases, each bin gets wider and our histogram appears to smooth out – until a point at which decreasing the number of bins makes the shape <em>more</em> choppy. With too many bins it looks noisey and is hard to find a smooth pattern. With too few bins our view becomes overly simplified can obscure patterns.</p>
<p>Each frame of the animation above was made by plotting with <code class="docutils literal notranslate"><span class="pre">bins</span></code> set to the integer number of bins we wanted to split the data into.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_58_1.png" src="../_images/intro_58_1.png" />
</div>
</div>
<p>By default, the bins will collectively range from the minimum value of the feature to the maximum value. So, we can calculate the width of each bin as
$<span class="math notranslate nohighlight">\(
\mathrm{width} = \frac{\max - \min}{\text{number of bins}}
\)</span>$</p>
<p>But you may notice the problem with this – it’s pretty hard to tell which values a particular bin covers! For example, what values would fall into the tallest bin? Could you tell without needing to do calculations or stare tediously at the horizontal axis?</p>
<p>The solution to this issue is but setting our own custom bins. This was done in the example above, and is accomplished by setting <code class="docutils literal notranslate"><span class="pre">bins</span></code> equal to a <span class="target" id="index-8"></span><strong><a class="reference external" href="../glossary.html#term-sequence">sequence</a></strong> of start-points for our bins. The very last entry of the sequence is the end-point of the last bin (exclusive, remember!).</p>
<p>You could pass in a list, requiring you to manually type each interval. E.g. we could create the bins <span class="math notranslate nohighlight">\([-10, 15)\)</span>, <span class="math notranslate nohighlight">\([15, 40)\)</span>, <span class="math notranslate nohighlight">\([40, 65)\)</span>, <span class="math notranslate nohighlight">\([65, 90)\)</span> by writing the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
<span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_63_1.png" src="../_images/intro_63_1.png" />
</div>
</div>
<p>But, recall from <a class="reference internal" href="../02-data_sets/arrays.html"><span class="doc">Arrays</span></a> that we can make better use of a <em>range</em> here. By passing in the range from -10 to 90+ with a step size of 25, we achieve the same result. Just be careful to remember that histogram bins <em>and</em> ranges are <em>both</em> exclusive on the upper bound. So, if we want our bins to end with <span class="math notranslate nohighlight">\([65, 90)\)</span>, then the endpoint of our range must be greater than 90! A common technique to make sure your desired endpoint is included within a range is to add the step size to the value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="o">+</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_65_1.png" src="../_images/intro_65_1.png" />
</div>
</div>
<div class="admonition tip" id="tip-1">
<p class="admonition-title">Tip</p>
<p>The upper-bound-exclusionary nature of histogram bins and ranges can make it confusing to know if you’re accidentally cutting of data. Feel free to evaluate the range in its own cell, and make sure that the last value in the sequence is greater than the maximum value of the feature.</p>
</div>
<p>Conveniently, if we ignore the <code class="docutils literal notranslate"><span class="pre">bins</span></code> argument then a bin count will automatically be chosen for us. Honestly the automatic count <em>usually</em> results in an appropriate level of detail! But not always. It’s important to know how to alter the bins if we want to explore our data more diligently.</p>
<p>For the rest of this section, we’ll use some custom bins to make things easier for ourselves.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nice_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-math-behind-histograms">
<h3>The math behind histograms<a class="headerlink" href="#the-math-behind-histograms" title="Permalink to this headline">¶</a></h3>
<p>Often, we use histograms to quickly get an intuition about the <em>shape</em> of our data. However, if we study the numbers on the vertical axis a bit closer we can extract important information about the proportion of data falling in each bin. We just need to make sure we set <code class="docutils literal notranslate"><span class="pre">density=True</span></code> when we call the plotting method.</p>
<p>Recall from our introduction earlier in this chapter that proportions are almost always more insightful than raw counts. Unfortunately, the default behavior of the plotting method is to plot a histogram of – you guessed it – raw counts (yuck!).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">nice_bins</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_71_1.png" src="../_images/intro_71_1.png" />
</div>
</div>
<p>Notice that the shape of our plot remains the same, only our vertical axis changes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">nice_bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_73_1.png" src="../_images/intro_73_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mf">0.0175</span> <span class="o">+</span> <span class="mf">0.02</span> <span class="o">+</span> <span class="mf">0.014</span> <span class="o">+</span> <span class="mf">0.002</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.535
</pre></div>
</div>
</div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">density=True</span></code>, the <em>proportion</em> of data that falls into a given bin is equal to the <em>area</em> of that bin. This means that in additional to providing us with a general intuition for how data falls within a certain range of values, the histogram also allows us to find this information mathematically! The formula becomes,</p>
<div class="math notranslate nohighlight">
\[
\text{proportion of data in bin} = \text{bin height}\times\text{bin width}
\]</div>
<p>Let’s try it out. We’ve noticed that temperatures show up with the highest frequency in the bin <span class="math notranslate nohighlight">\([60, 70)\)</span>, let’s find the proportion that fall in that range.</p>
<p>Since the height of that bin is just over <span class="math notranslate nohighlight">\(0.02\)</span>, we calculate the proportion of data in the range <span class="math notranslate nohighlight">\([60, 70)\)</span> as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
\text{proportion in [60, 70)} &amp;\approx 0.02 \times 10 \\
&amp;= 0.2
\end{aligned}
\end{split}\]</div>
<p>That’s that’s at least a fifth of our entire data set!</p>
<p>To get a sense of the proportion of data across multiple bins, say temperatures from 50 degrees all the way to 90, we can simply add the proportion of each individual bin! Notice that if the bins are all equal in width, we can add up all the heights and <em>then</em> multiply, since multiplication distributes over addition.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
\text{proportion from 50 to 90} &amp;= \text{pr [50, 60) + $\cdots$ + pr [80, 90)} \\
&amp;\approx (0.0175 + 0.02 + 0.014 + 0.002)(10) \\
&amp;= 0.535
\end{aligned}
\end{split}\]</div>
<p>Hmmm… that’s pretty close to <span class="math notranslate nohighlight">\(50\%\)</span>… the median of the data set must be somewhere nearby.</p>
<p>What would happen if we added the areas of all bins? Turns out, we’ll arrive at a sum of <span class="math notranslate nohighlight">\(1.0\)</span>. Indeed, the histogram can confirm the fundamental truth that 100% of our data falls within the extent of <em>all</em> of our bins!</p>
<p>Note that in our calculations, we took a bit of liberty in <em>estimating</em> the heights of the bins, so if you were to try adding the areas in practice you may arrive at a number slightly more or less than <span class="math notranslate nohighlight">\(1.0\)</span> due to errors in approximation – and that’s totally fine! If we wanted to be completely accurate about the proportion of data in each range, we would compute it directly. But the point of a histogram is to make initial exploration and basic calculations quick and easy, so we can rest easy knowing that we’re working with estimates.</p>
<p><strong>A note about density</strong></p>
<p>It would be rude to move on without giving some indication of why the term ‘density’ is used, or without discussing how the heights are calculated in the first place!</p>
<p>Technically, the height of each bin actually represents the ‘density’ of data in that interval.</p>
<p>You can think of this ‘density’ the same way you would think of density in a physics or chemistry class – it’s a ratio between how much stuff you have versus how much space it’s contained in.</p>
<p>Mathematically, the bin heights are calculated as</p>
<div class="math notranslate nohighlight">
\[
\text{bin height} = \frac{\text{proportion of data in bin}}{\text{bin width}}
\]</div>
<p>See how we’re able to use bin height and bin width to reverse the calculation and arrive at the proportion?</p>
</div>
<div class="section" id="categorical-distributions">
<h3>Categorical distributions<a class="headerlink" href="#categorical-distributions" title="Permalink to this headline">¶</a></h3>
<p>If we’re working with a categorical variable it’s important to look at the frequency of the categories. For this, we can use a bar chart in conjunction with <code class="docutils literal notranslate"><span class="pre">.groupby</span></code> and <code class="docutils literal notranslate"><span class="pre">.count</span></code>.</p>
<p>The resulting chart is no longer a histogram since we’re no longer working with numerical bins, but the end result is similar: we get a sense of the frequency of different values of the feature. And, similar to the histogram, it is preferrable to work with proportions of frequency instead of raw counts. We accomplish this by performing element-wise division on our counts by the total number of rows in our data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">region_counts</span> <span class="o">=</span> <span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">([</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># We can assign a new column as the proportion of each region</span>
<span class="n">region_props</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">region_counts</span>
    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">proportion</span><span class="o">=</span><span class="n">region_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">climate</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>
<span class="p">)</span>

<span class="n">region_props</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;region&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_80_1.png" src="../_images/intro_80_1.png" />
</div>
</div>
<p>Unsurprisingly, the proportion of data is equal for every single climate region. That’s what we expect in this situation (each climate region has a measurement for all months from 2000 to 2019). Since we know that we should expect all of the climate regions to have the same proportion of measurements, if the chart showed us that the frequency <em>wasn’t</em> equal then we’d know something was wrong with our data!</p>
</div>
</div>
<div class="section" id="trends-over-time">
<h2>Trends over time<a class="headerlink" href="#trends-over-time" title="Permalink to this headline">¶</a></h2>
<p>Since our new data set contains a column to progresses through time (the year), it’s possible for us to discover trends in our data. For example, how has average temperature changed over time?</p>
<p>We can group by the year and aggregate using the mean, but once again it’s challenging to spot trends just from a series of numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_over_time</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">([</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">temp_over_time</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>temperature</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1898</th>
      <td>50.659259</td>
    </tr>
    <tr>
      <th>1899</th>
      <td>50.170370</td>
    </tr>
    <tr>
      <th>1900</th>
      <td>51.824074</td>
    </tr>
    <tr>
      <th>1901</th>
      <td>50.826852</td>
    </tr>
    <tr>
      <th>1902</th>
      <td>50.623148</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>53.503704</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>54.004630</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>53.592593</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>52.690741</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>51.850000</td>
    </tr>
  </tbody>
</table>
<p>122 rows × 1 columns</p>
</div></div></div>
</div>
<p>The human brain is hardwired to detect patterns, but in order to see a pattern amongst numbers, we need to keep all of the numbers in our head. Visualizations like <span class="target" id="index-9"></span><strong><a class="reference external" href="../glossary.html#term-line-chart">line charts</a></strong> address this issue!</p>
<p>Once again, the column that we want to be the horizontal axis is our table index, so we set <em>x</em> to <code class="docutils literal notranslate"><span class="pre">None</span></code> (or don’t specify it).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_over_time</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;year&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_86_1.png" src="../_images/intro_86_1.png" />
</div>
</div>
<p>A word of caution: notice that that the chart boundaries shrink to fit the data as closely as possible. While this can be nice because it allows us to focus on the changes in the data, it can also be very misleading! For example, the average temperature from 1963 to 1972 never varied by more than a degree, but the line plot still looks very dramatic!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">from_63_to_72</span> <span class="o">=</span> <span class="p">(</span><span class="n">temp_over_time</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">1963</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">temp_over_time</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;=</span> <span class="mi">1972</span><span class="p">)</span>

<span class="n">temp_over_time</span><span class="p">[</span><span class="n">from_63_to_72</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;year&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_88_1.png" src="../_images/intro_88_1.png" />
</div>
</div>
<p>This is another situation where <em>domain knowledge</em> is necessary to avoid jumping to false conclusions. How important is a single degree of change in average temperature? We should always be careful not to let charts scare us.</p>
</div>
<div class="section" id="comparing-groups">
<h2>Comparing groups<a class="headerlink" href="#comparing-groups" title="Permalink to this headline">¶</a></h2>
<p>We’ve seen a bar chart as the very first example of a chart in this chapter, and we’ve seen it again to compare the proportions of categories. In general, <span class="target" id="index-10"></span><strong><a class="reference external" href="../glossary.html#term-bar-chart">bar charts</a></strong> are used to give <em>context</em> when comparing the values assigned to different categories. While sometimes our groups are already separated, like in our very first examples, we also know from our experience with groupby that perhaps the most common way of assigning a value to a category is by using groupby and aggregation!</p>
<p>Anyway, once we have data with a single row per group, the bar chart lets us easily spot disparities.</p>
<p>To illustrate, let’s see what the <em>minimum</em> reported temperature is for each climate region.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">min_temp_by_region</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">([</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">min_temp_by_region</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;region&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_92_1.png" src="../_images/intro_92_1.png" />
</div>
</div>
<p>The bar chart highlights a considerable difference between the minimum temperature in the regions. We can quickly pick out the regions with the lowest and highest minimum temperatures (there are even some <em>negative</em> temperatures!)… but it’s a little challenging to read the labels when they’re vertical like that.</p>
<p>There are actually two changes we should consider when making a bar chart. First, we can make the whole chart horizontal by setting <code class="docutils literal notranslate"><span class="pre">kind='barh'</span></code>. Second, we can make it easier to find patterns in the ranking of the regions by first sorting our table, then plotting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">min_temp_by_region</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;region&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_95_1.png" src="../_images/intro_95_1.png" />
</div>
</div>
<p>Now that the bar chart is sorted based on the minimum temperature – essentially ranking the climate regions – it becomes much easier for us to spot additional patterns. For instance, did you notice that the regions that contain ‘South’ have some of the highest minimum temperatures? Also, there’s a really big drop between the minimum temperature in the Northeast region to the Northern Rockies and Plains region – more than a 10 degree difference! I wonder why that is… sounds like some additional domain research is necessary.</p>
</div>
<div class="section" id="relationships-between-features">
<h2>Relationships between features<a class="headerlink" href="#relationships-between-features" title="Permalink to this headline">¶</a></h2>
<p>So far, we’ve seen charts that let us work with a single feature, charts that let us compare a feature versus time, and charts that let us compare a feature versus a category – how about comparing a numeric feature against another numeric feature?</p>
<p>The <span class="target" id="index-11"></span><strong><a class="reference external" href="../glossary.html#term-scatter-plot">scatter plot</a></strong> is a fundamental chart which takes in a pairs of values, <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>, then plots each pair as a point on a coordinate grid. Our use of the scatter plot is almost always motivated by a core question: <em>how is the value of <span class="math notranslate nohighlight">\(y\)</span> related to the value of <span class="math notranslate nohighlight">\(x\)</span>?</em></p>
<p>Conviently, we still have two more numerical features in the data set that we haven’t worked with much: rainfall the the Palmer Z Index (ZNDX). Furthermore, – unless you’ve looked it up – we’re not even sure what ZNDX is! How about we use a scatter plot to explore the extent to which our ZNDX feature depends on rainfall.</p>
<p>To do so, we set <code class="docutils literal notranslate"><span class="pre">kind='scatter'</span></code> and specify <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> as numeric column names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;rainfall&#39;, ylabel=&#39;zndx&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_99_1.png" src="../_images/intro_99_1.png" />
</div>
</div>
<p>Looks interesting, right? There’s a very clear upwards slope to the data – looks like we found a relationship after all.</p>
<p>In statistics, if we see a pattern in the scatter plot between two features, we consider there to be an <span class="target" id="index-12"></span><strong><a class="reference external" href="../glossary.html#term-association">association</a></strong> between the features. In the relationship between rainfall and ZNDX, we see a <em>positive association</em>, meaning that as the rainfall measurement increases, we usually see the ZNDX measurement increase, too.</p>
<p>So what’s the reason for this relationship? Well, again, domain knowledge is crucial in effective data science, so it’s about time we look up what the Palmer Z Index is. Turns out it’s a short-term measure of drought versus moisture in a region, where lower values mean less moisture is in the area. So it makes a <em>lot</em> of sense for this measurement to depend on rainfall in the area!</p>
<p>On the other hand, if we plot the ZNDX against temperature, we don’t see much of an association – we basically just see a blob.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;temperature&#39;, ylabel=&#39;zndx&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_104_1.png" src="../_images/intro_104_1.png" />
</div>
</div>
<p>If instead we saw a downward slope, then there would have been <em>negative association</em> visible… But since that is not the case, in this situation we consider there to be <em>no association</em> between ZNDX and temperature.</p>
</div>
<div class="section" id="comparing-charts">
<h2>Comparing charts<a class="headerlink" href="#comparing-charts" title="Permalink to this headline">¶</a></h2>
<p>According to <a class="reference external" href="https://www.noaa.gov/news/2019-was-2nd-wettest-year-on-record-for-us">an article by the NOAA</a>, 2019 was the second wettest year in the United States. In contrast, the year 1930 was the start of the ‘Dust Bowl’ – a historical period of some of the most severe droughts in the US.</p>
<p>Can we explore how the data recorded during 2019 differs from 1930? To explore this aspect of the data, it’ll be useful to know how to compare what the <em>charts</em> look like for 2019 versus 1930.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Remember, we can’t start a variable name with a number.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year2019</span> <span class="o">=</span> <span class="n">climate</span><span class="p">[</span><span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2019</span><span class="p">]</span>
<span class="n">dustbowl</span> <span class="o">=</span> <span class="n">climate</span><span class="p">[</span><span class="n">climate</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1930</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="overlaying-scatters-lines-and-histograms">
<h3>Overlaying scatters, lines, and histograms<a class="headerlink" href="#overlaying-scatters-lines-and-histograms" title="Permalink to this headline">¶</a></h3>
<p>How about starting by comparing the scatter plots we just learned about. That way, we can see what the rainfall and drought index look like in the two drastically different years.</p>
<p>To overlay these two plots, we tell Babypandas that the two plots should share the same <em>axes</em> (plural of axis). To do this, we assign the first plot to a variable, then when we create the second plot we pass in an additional argument <code class="docutils literal notranslate"><span class="pre">ax</span></code> which references that variable.</p>
<p>Let’s see what happens when we do this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">year2019</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">)</span>
<span class="n">dustbowl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;rainfall&#39;, ylabel=&#39;zndx&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_112_1.png" src="../_images/intro_112_1.png" />
</div>
</div>
<p>Uh oh, Python did exactly what we told it to do – it simply drew the two plots on top of each other! Unfortunately, we have no way to tell which point came from 2019 versus 1930. To fix this, we should introduce two additional arguments: <code class="docutils literal notranslate"><span class="pre">label</span></code> should be set to the name of each group we’re plotting, this will show up next to the chart along with a <code class="docutils literal notranslate"><span class="pre">color</span></code> for that group. The color argument can be set to <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">many things</a>, including valid <a class="reference external" href="https://www.computerhope.com/htmcolor.htm">hex codes</a>. Let’s set our labels to ‘2019’ and ‘Dustbowl’ to be descriptive, and for a bit of fun let’s set the colors to ‘aqua’ and ‘sandybrown’ respectively.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Fortunately, ‘aqua’ and ‘sandybrown’ happen to form a decent color palette, but not all colors work well together!</p>
<p>In practice, you should always prioritize <em>readability</em> in your charts – if you choose colors they should have enough visual contrast to easily distinguish and pick up on patterns in the groups.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">year2019</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;aqua&#39;</span><span class="p">)</span>
<span class="n">dustbowl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;zndx&#39;</span><span class="p">,</span>
              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Dustbowl&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;sandybrown&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;rainfall&#39;, ylabel=&#39;zndx&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_115_1.png" src="../_images/intro_115_1.png" />
</div>
</div>
<p>The same technique can be used to compare most types of charts. We can compare time series data across groups, like the average rainfall over the course of 2019 versus the rainfall over the course of 1930.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year2019_bymo</span> <span class="o">=</span> <span class="n">year2019</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">dustbowl_bymo</span> <span class="o">=</span> <span class="n">dustbowl</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Remember that our index is now &#39;month&#39;, and our x axis defaults to the index</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">year2019_bymo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span>
                        <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;aqua&#39;</span><span class="p">)</span>
<span class="n">dustbowl_bymo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Dustbowl&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;sandybrown&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;month&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_117_1.png" src="../_images/intro_117_1.png" />
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Turns out we only <em>need</em> to specify color for the scatter plot. The line chart and histogram will automatically use multiple colors when overlaying.</p>
</div>
<p>And the same technique can be used on the ever-powerful histogram, with one addition: you should also specify an <code class="docutils literal notranslate"><span class="pre">alpha</span></code> argument which determines the opacity of the bars. This allows you to see through a histogram if it happens to cover up the other. We can still set labels and colors as before.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">year2019</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">dustbowl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;rainfall&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Dustbowl&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Frequency&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_120_1.png" src="../_images/intro_120_1.png" />
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that when we’re comparing histograms it’s <em>especially</em> important that we use the <code class="docutils literal notranslate"><span class="pre">density=True</span></code> argument. Otherwise we’d produce a misleading picture since the bin widths (and in many cases the number of elements in each group) are different.</p>
</div>
</div>
<div class="section" id="comparing-bar-charts">
<h3>Comparing bar charts<a class="headerlink" href="#comparing-bar-charts" title="Permalink to this headline">¶</a></h3>
<p>How did the rainfall compare across the climate regions for the different years? We’re able to answer this question by comparing bar charts, but unfortunately we can’t use the same approach as before. That’s the bars would simply be drawn on top of each other and completely overlap!</p>
<p>What would make more sense is to create a bar chart such that the bars for the two groups we’re comparing are placed <em>next</em> to eachother instead of on top of eachother.</p>
<p>We can accomplish this by creating a table that has a column for both groups we indend to chart, and whose indices are the categories of the bar chart.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year2019_byreg</span> <span class="o">=</span> <span class="n">year2019</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">dustbowl_byreg</span> <span class="o">=</span> <span class="n">dustbowl</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">bpd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
    <span class="n">rain2019</span><span class="o">=</span><span class="n">year2019_byreg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;rainfall&#39;</span><span class="p">),</span>
    <span class="n">rain1930</span><span class="o">=</span><span class="n">dustbowl_byreg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;rainfall&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">combined</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rain2019</th>
      <th>rain1930</th>
    </tr>
    <tr>
      <th>region</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Northeast Climate Region</th>
      <td>4.137500</td>
      <td>2.696667</td>
    </tr>
    <tr>
      <th>Northern Rockies and Plains Climate Region</th>
      <td>2.040833</td>
      <td>1.489167</td>
    </tr>
    <tr>
      <th>Northwest Climate Region</th>
      <td>2.385000</td>
      <td>1.977500</td>
    </tr>
    <tr>
      <th>Ohio Valley Climate Region</th>
      <td>4.498333</td>
      <td>2.520000</td>
    </tr>
    <tr>
      <th>South Climate Region</th>
      <td>3.371667</td>
      <td>2.719167</td>
    </tr>
    <tr>
      <th>Southeast Climate Region</th>
      <td>4.191667</td>
      <td>3.671667</td>
    </tr>
    <tr>
      <th>Southwest Climate Region</th>
      <td>1.314167</td>
      <td>1.238333</td>
    </tr>
    <tr>
      <th>Upper Midwest Climate Region</th>
      <td>3.361667</td>
      <td>2.003333</td>
    </tr>
    <tr>
      <th>West Climate Region</th>
      <td>1.899167</td>
      <td>1.185833</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Then, we can plot this new combined table by passing in column names, labels, and colors as a list of desired values for each group.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rain2019&#39;</span><span class="p">,</span> <span class="s1">&#39;rain1930&#39;</span><span class="p">],</span>
              <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2019&#39;</span><span class="p">,</span> <span class="s1">&#39;Dustbowl&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;region&#39;&gt;
</pre></div>
</div>
<img alt="../_images/intro_127_1.png" src="../_images/intro_127_1.png" />
</div>
</div>
<p>As we would expect, the second wettest year in the U.S. got considerably more rainfall in just about every region than one of the driest years in the U.S… except for in the Southwest.</p>
<p>Perhaps this serves as a launching point for further exploration. But for now, let’s figure out how to join this climate data with our fire data.</p>
</div>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../02-data_sets/apply.html" title="previous page">Defining and Applying Functions</a>
    <a class='right-next' id="next-link" href="scatter.html" title="next page">Scatter Plots</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Parker Addison and Justin Eldridge<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>